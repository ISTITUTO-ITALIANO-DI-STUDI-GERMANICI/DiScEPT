{"ast":null,"code":"import*as React from\"react\";import Box from\"@mui/material/Box\";import InputLabel from\"@mui/material/InputLabel\";import MenuItem from\"@mui/material/MenuItem\";import FormControl from\"@mui/material/FormControl\";import Select from\"@mui/material/Select\";import data from\"../Data.js\";import CETEIHelper from\"../CETEIHelper.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AlignTab(_ref){let{id,onLanguageChanged,onSelectionChanged,excludeLanguage}=_ref;const[language,setLanguage]=React.useState(\"\");const contentRef=/*#__PURE__*/React.createRef();const handleChange=event=>{onLanguageChanged(event.target.value);setLanguage(event.target.value);contentRef.current.innerHTML=\"\";contentRef.current.append(CETEIHelper.CETEI.makeHTML5(data.getDocumentPerLanguage(event.target.value),null,(domElm,teiElm)=>alignLogic(id,contentRef.current,domElm,teiElm)));};const alignLogic=(id,rootElm,domElm,teiElm)=>{domElm.addEventListener(\"click\",e=>{onSelectionChanged(domElm,teiElm,rootElm);e.stopPropagation();});domElm.addEventListener(\"mouseover\",e=>{if(!e.target.classList.contains(\"selectedTEI\")){e.target.classList.add(\"selectableTEI\");}e.stopPropagation();});domElm.addEventListener(\"mouseout\",e=>{if(!e.target.classList.contains(\"selectedTEI\")){e.target.classList.remove(\"selectableTEI\");}e.stopPropagation();});};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,disabled:data.getDocumentLanguages().filter(language=>language!==excludeLanguage).length===0,children:[/*#__PURE__*/_jsx(InputLabel,{id:id+\"-label\",children:\"Language\"}),/*#__PURE__*/_jsx(Select,{labelId:id+\"-label\",id:id+\"-select\",value:language,label:\"Language\",onChange:handleChange,children:data.getDocumentLanguages().filter(language=>language!==excludeLanguage).map(language=>/*#__PURE__*/_jsx(MenuItem,{value:language,children:language},id+\"-key-\"+language))})]}),/*#__PURE__*/_jsx(\"div\",{ref:contentRef})]});}","map":{"version":3,"names":["React","Box","InputLabel","MenuItem","FormControl","Select","data","CETEIHelper","jsx","_jsx","jsxs","_jsxs","AlignTab","_ref","id","onLanguageChanged","onSelectionChanged","excludeLanguage","language","setLanguage","useState","contentRef","createRef","handleChange","event","target","value","current","innerHTML","append","CETEI","makeHTML5","getDocumentPerLanguage","domElm","teiElm","alignLogic","rootElm","addEventListener","e","stopPropagation","classList","contains","add","remove","children","fullWidth","disabled","getDocumentLanguages","filter","length","labelId","label","onChange","map","ref"],"sources":["/home/runner/work/DiScEPT/DiScEPT/src/components/aligntab.js"],"sourcesContent":["import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\n\nimport data from \"../Data.js\";\nimport CETEIHelper from \"../CETEIHelper.js\";\n\nexport default function AlignTab({\n  id,\n  onLanguageChanged,\n  onSelectionChanged,\n  excludeLanguage,\n}) {\n  const [language, setLanguage] = React.useState(\"\");\n  const contentRef = React.createRef();\n\n  const handleChange = (event) => {\n    onLanguageChanged(event.target.value);\n    setLanguage(event.target.value);\n\n    contentRef.current.innerHTML = \"\";\n    contentRef.current.append(\n      CETEIHelper.CETEI.makeHTML5(\n        data.getDocumentPerLanguage(event.target.value),\n        null,\n        (domElm, teiElm) => alignLogic(id, contentRef.current, domElm, teiElm),\n      ),\n    );\n  };\n\n  const alignLogic = (id, rootElm, domElm, teiElm) => {\n    domElm.addEventListener(\"click\", (e) => {\n      onSelectionChanged(domElm, teiElm, rootElm);\n      e.stopPropagation();\n    });\n\n    domElm.addEventListener(\"mouseover\", (e) => {\n      if (!e.target.classList.contains(\"selectedTEI\")) {\n        e.target.classList.add(\"selectableTEI\");\n      }\n      e.stopPropagation();\n    });\n\n    domElm.addEventListener(\"mouseout\", (e) => {\n      if (!e.target.classList.contains(\"selectedTEI\")) {\n        e.target.classList.remove(\"selectableTEI\");\n      }\n      e.stopPropagation();\n    });\n  };\n\n  return (\n    <Box>\n      <FormControl\n        fullWidth\n        disabled={\n          data\n            .getDocumentLanguages()\n            .filter((language) => language !== excludeLanguage).length === 0\n        }\n      >\n        <InputLabel id={id + \"-label\"}>Language</InputLabel>\n        <Select\n          labelId={id + \"-label\"}\n          id={id + \"-select\"}\n          value={language}\n          label=\"Language\"\n          onChange={handleChange}\n        >\n          {data\n            .getDocumentLanguages()\n            .filter((language) => language !== excludeLanguage)\n            .map((language) => (\n              <MenuItem value={language} key={id + \"-key-\" + language}>\n                {language}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n\n      <div ref={contentRef} />\n    </Box>\n  );\n}\n"],"mappings":"AAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAEzC,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,MAAO,CAAAC,WAAW,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAK7B,IAL8B,CAC/BC,EAAE,CACFC,iBAAiB,CACjBC,kBAAkB,CAClBC,eACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAACK,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,KAAK,CAACoB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAAC,UAAU,cAAGrB,KAAK,CAACsB,SAAS,CAAC,CAAC,CAEpC,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAC9BT,iBAAiB,CAACS,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACrCP,WAAW,CAACK,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAE/BL,UAAU,CAACM,OAAO,CAACC,SAAS,CAAG,EAAE,CACjCP,UAAU,CAACM,OAAO,CAACE,MAAM,CACvBtB,WAAW,CAACuB,KAAK,CAACC,SAAS,CACzBzB,IAAI,CAAC0B,sBAAsB,CAACR,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/C,IAAI,CACJ,CAACO,MAAM,CAAEC,MAAM,GAAKC,UAAU,CAACrB,EAAE,CAAEO,UAAU,CAACM,OAAO,CAAEM,MAAM,CAAEC,MAAM,CACvE,CACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGA,CAACrB,EAAE,CAAEsB,OAAO,CAAEH,MAAM,CAAEC,MAAM,GAAK,CAClDD,MAAM,CAACI,gBAAgB,CAAC,OAAO,CAAGC,CAAC,EAAK,CACtCtB,kBAAkB,CAACiB,MAAM,CAAEC,MAAM,CAAEE,OAAO,CAAC,CAC3CE,CAAC,CAACC,eAAe,CAAC,CAAC,CACrB,CAAC,CAAC,CAEFN,MAAM,CAACI,gBAAgB,CAAC,WAAW,CAAGC,CAAC,EAAK,CAC1C,GAAI,CAACA,CAAC,CAACb,MAAM,CAACe,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAE,CAC/CH,CAAC,CAACb,MAAM,CAACe,SAAS,CAACE,GAAG,CAAC,eAAe,CAAC,CACzC,CACAJ,CAAC,CAACC,eAAe,CAAC,CAAC,CACrB,CAAC,CAAC,CAEFN,MAAM,CAACI,gBAAgB,CAAC,UAAU,CAAGC,CAAC,EAAK,CACzC,GAAI,CAACA,CAAC,CAACb,MAAM,CAACe,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAE,CAC/CH,CAAC,CAACb,MAAM,CAACe,SAAS,CAACG,MAAM,CAAC,eAAe,CAAC,CAC5C,CACAL,CAAC,CAACC,eAAe,CAAC,CAAC,CACrB,CAAC,CAAC,CACJ,CAAC,CAED,mBACE5B,KAAA,CAACV,GAAG,EAAA2C,QAAA,eACFjC,KAAA,CAACP,WAAW,EACVyC,SAAS,MACTC,QAAQ,CACNxC,IAAI,CACDyC,oBAAoB,CAAC,CAAC,CACtBC,MAAM,CAAE9B,QAAQ,EAAKA,QAAQ,GAAKD,eAAe,CAAC,CAACgC,MAAM,GAAK,CAClE,CAAAL,QAAA,eAEDnC,IAAA,CAACP,UAAU,EAACY,EAAE,CAAEA,EAAE,CAAG,QAAS,CAAA8B,QAAA,CAAC,UAAQ,CAAY,CAAC,cACpDnC,IAAA,CAACJ,MAAM,EACL6C,OAAO,CAAEpC,EAAE,CAAG,QAAS,CACvBA,EAAE,CAAEA,EAAE,CAAG,SAAU,CACnBY,KAAK,CAAER,QAAS,CAChBiC,KAAK,CAAC,UAAU,CAChBC,QAAQ,CAAE7B,YAAa,CAAAqB,QAAA,CAEtBtC,IAAI,CACFyC,oBAAoB,CAAC,CAAC,CACtBC,MAAM,CAAE9B,QAAQ,EAAKA,QAAQ,GAAKD,eAAe,CAAC,CAClDoC,GAAG,CAAEnC,QAAQ,eACZT,IAAA,CAACN,QAAQ,EAACuB,KAAK,CAAER,QAAS,CAAA0B,QAAA,CACvB1B,QAAQ,EADqBJ,EAAE,CAAG,OAAO,CAAGI,QAErC,CACX,CAAC,CACE,CAAC,EACE,CAAC,cAEdT,IAAA,QAAK6C,GAAG,CAAEjC,UAAW,CAAE,CAAC,EACrB,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}